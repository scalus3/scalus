# Memory settings - use percentage of physical RAM for portability
# Initial heap: 25% of physical RAM
-XX:InitialRAMPercentage=25.0
# Max heap: 75% of physical RAM
-XX:MaxRAMPercentage=75.0
-Xss64M

-XX:+UseG1GC

# Memory optimizations
-XX:+UseStringDeduplication
-XX:+UseCompressedOops
-XX:+UseCompressedClassPointers

# Code cache settings for better JIT performance
-XX:ReservedCodeCacheSize=512m
-XX:InitialCodeCacheSize=64m

# Compilation settings - allow full tiered compilation for sbtn server performance
-XX:+TieredCompilation
-XX:CompileThreshold=1000

# NOTE: Do NOT use -XX:TieredStopAtLevel=1 here!
# While it speeds up initial startup, it prevents C2 JIT optimization
# which makes subsequent compilations 30-50% slower in long-running sbtn server

# Pre-touch heap to avoid GC pauses during compilation
-XX:+AlwaysPreTouch

# SBT-specific optimizations
-Dsbt.boot.lock=false
-Dsbt.turbo=true
-Dsbt.supershell=false
