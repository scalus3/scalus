(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,41241,19556,9752,20486,e=>{"use strict";var t=e.i(49915),r=(0,e.i(65485).default)(Object.keys,Object),a=Object.prototype.hasOwnProperty;let i=function(e){if(!(0,t.default)(e))return r(e);var i=[];for(var s in Object(e))a.call(e,s)&&"constructor"!=s&&i.push(s);return i};e.s(["default",0,i],19556);var s=e.i(47244),n=e.i(56176),l=(0,s.default)(n.default,"DataView"),o=e.i(44483),d=(0,s.default)(n.default,"Promise"),c=(0,s.default)(n.default,"Set");e.s(["default",0,c],9752);var p=(0,s.default)(n.default,"WeakMap"),m=e.i(35287),u=e.i(66762),h="[object Map]",f="[object Promise]",g="[object Set]",y="[object WeakMap]",_="[object DataView]",b=(0,u.default)(l),k=(0,u.default)(o.default),w=(0,u.default)(d),v=(0,u.default)(c),x=(0,u.default)(p),M=m.default;(l&&M(new l(new ArrayBuffer(1)))!=_||o.default&&M(new o.default)!=h||d&&M(d.resolve())!=f||c&&M(new c)!=g||p&&M(new p)!=y)&&(M=function(e){var t=(0,m.default)(e),r="[object Object]"==t?e.constructor:void 0,a=r?(0,u.default)(r):"";if(a)switch(a){case b:return _;case k:return h;case w:return f;case v:return g;case x:return y}return t});let L=M;e.s(["default",0,L],20486);var $=e.i(15300),j=e.i(44071),S=e.i(41338),E=e.i(3745),C=e.i(1645),A=Object.prototype.hasOwnProperty;e.s(["default",0,function(e){if(null==e)return!0;if((0,S.default)(e)&&((0,j.default)(e)||"string"==typeof e||"function"==typeof e.splice||(0,E.default)(e)||(0,C.default)(e)||(0,$.default)(e)))return!e.length;var r=L(e);if("[object Map]"==r||"[object Set]"==r)return!e.size;if((0,t.default)(e))return!i(e).length;for(var a in e)if(A.call(e,a))return!1;return!0}],41241)},80132,e=>{"use strict";var t=e.i(44366);e.i(47716);var r=e.i(23685),a=(0,t.__name)(e=>{let{securityLevel:a}=(0,t.getConfig2)(),i=(0,r.select)("body");if("sandbox"===a){let t=(0,r.select)(`#i${e}`),a=t.node()?.contentDocument??document;i=(0,r.select)(a.body)}return i.select(`#${e}`)},"selectSvgElement");e.s(["selectSvgElement",()=>a])},1884,e=>{"use strict";var t=(0,e.i(44366).__name)(({flowchart:e})=>{let t=e?.subGraphTitleMargin?.top??0,r=e?.subGraphTitleMargin?.bottom??0;return{subGraphTitleTopMargin:t,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:t+r}},"getSubGraphTitleMargins");e.s(["getSubGraphTitleMargins",()=>t])},10475,e=>{"use strict";var t=e.i(44366),r=(0,t.__name)(e=>{let{handDrawnSeed:r}=(0,t.getConfig2)();return{fill:e,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:e,seed:r}},"solidStateFill"),a=(0,t.__name)(e=>{let t=i([...e.cssCompiledStyles||[],...e.cssStyles||[]]);return{stylesMap:t,stylesArray:[...t]}},"compileStyles"),i=(0,t.__name)(e=>{let t=new Map;return e.forEach(e=>{let[r,a]=e.split(":");t.set(r.trim(),a?.trim())}),t},"styles2Map"),s=(0,t.__name)(e=>"color"===e||"font-size"===e||"font-family"===e||"font-weight"===e||"font-style"===e||"text-decoration"===e||"text-align"===e||"text-transform"===e||"line-height"===e||"letter-spacing"===e||"word-spacing"===e||"text-shadow"===e||"text-overflow"===e||"white-space"===e||"word-wrap"===e||"word-break"===e||"overflow-wrap"===e||"hyphens"===e,"isLabelStyle"),n=(0,t.__name)(e=>{let{stylesArray:t}=a(e),r=[],i=[],n=[],l=[];return t.forEach(e=>{let t=e[0];s(t)?r.push(e.join(":")+" !important"):(i.push(e.join(":")+" !important"),t.includes("stroke")&&n.push(e.join(":")+" !important"),"fill"===t&&l.push(e.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:i.join(";"),stylesArray:t,borderStyles:n,backgroundStyles:l}},"styles2String"),l=(0,t.__name)((e,r)=>{let{themeVariables:i,handDrawnSeed:s}=(0,t.getConfig2)(),{nodeBorder:n,mainBkg:l}=i,{stylesMap:d}=a(e);return Object.assign({roughness:.7,fill:d.get("fill")||l,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:d.get("stroke")||n,seed:s,strokeWidth:d.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0],strokeLineDash:o(d.get("stroke-dasharray"))},r)},"userNodeOverrides"),o=(0,t.__name)(e=>{if(!e)return[0,0];let t=e.trim().split(/\s+/).map(Number);if(1===t.length){let e=isNaN(t[0])?0:t[0];return[e,e]}return[isNaN(t[0])?0:t[0],isNaN(t[1])?0:t[1]]},"getStrokeDashArray");e.s(["compileStyles",()=>a,"isLabelStyle",()=>s,"solidStateFill",()=>r,"styles2String",()=>n,"userNodeOverrides",()=>l])},75058,16888,e=>{"use strict";e.s(["default",0,function(e){return function(){return e}}],75058);let t=Math.PI,r=2*t,a=r-1e-6;function i(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class s{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?i:function(e){let t=Math.floor(e);if(!(t>=0))throw Error(`invalid digits: ${e}`);if(t>15)return i;let r=10**t;return function(e){this._+=e[0];for(let t=1,a=e.length;t<a;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,a){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,t,r,a,i,s){this._append`C${+e},${+t},${+r},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(e,r,a,i,s){if(e*=1,r*=1,a*=1,i*=1,(s*=1)<0)throw Error(`negative radius: ${s}`);let n=this._x1,l=this._y1,o=a-e,d=i-r,c=n-e,p=l-r,m=c*c+p*p;if(null===this._x1)this._append`M${this._x1=e},${this._y1=r}`;else if(m>1e-6)if(Math.abs(p*o-d*c)>1e-6&&s){let u=a-n,h=i-l,f=o*o+d*d,g=Math.sqrt(f),y=Math.sqrt(m),_=s*Math.tan((t-Math.acos((f+m-(u*u+h*h))/(2*g*y)))/2),b=_/y,k=_/g;Math.abs(b-1)>1e-6&&this._append`L${e+b*c},${r+b*p}`,this._append`A${s},${s},0,0,${+(p*u>c*h)},${this._x1=e+k*o},${this._y1=r+k*d}`}else this._append`L${this._x1=e},${this._y1=r}`}arc(e,i,s,n,l,o){if(e*=1,i*=1,s*=1,o=!!o,s<0)throw Error(`negative radius: ${s}`);let d=s*Math.cos(n),c=s*Math.sin(n),p=e+d,m=i+c,u=1^o,h=o?n-l:l-n;null===this._x1?this._append`M${p},${m}`:(Math.abs(this._x1-p)>1e-6||Math.abs(this._y1-m)>1e-6)&&this._append`L${p},${m}`,s&&(h<0&&(h=h%r+r),h>a?this._append`A${s},${s},0,1,${u},${e-d},${i-c}A${s},${s},0,1,${u},${this._x1=p},${this._y1=m}`:h>1e-6&&this._append`A${s},${s},0,${+(h>=t)},${u},${this._x1=e+s*Math.cos(l)},${this._y1=i+s*Math.sin(l)}`)}rect(e,t,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r*=1}v${+a}h${-r}Z`}toString(){return this._}}function n(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{let e=Math.floor(r);if(!(e>=0))throw RangeError(`invalid digits: ${r}`);t=e}return e},()=>new s(t)}s.prototype,e.s(["withPath",()=>n],16888)},62990,e=>{"use strict";Array.prototype.slice,e.s(["default",0,function(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}])},85833,e=>{"use strict";var t=e.i(62990),r=e.i(75058),a=e.i(48114),i=e.i(16888);function s(e){return e[0]}function n(e){return e[1]}e.s(["line",0,function(e,l){var o=(0,r.default)(!0),d=null,c=a.default,p=null,m=(0,i.withPath)(u);function u(r){var a,i,s,n=(r=(0,t.default)(r)).length,u=!1;for(null==d&&(p=c(s=m())),a=0;a<=n;++a)!(a<n&&o(i=r[a],a,r))===u&&((u=!u)?p.lineStart():p.lineEnd()),u&&p.point(+e(i,a,r),+l(i,a,r));if(s)return p=null,s+""||null}return e="function"==typeof e?e:void 0===e?s:(0,r.default)(e),l="function"==typeof l?l:void 0===l?n:(0,r.default)(l),u.x=function(t){return arguments.length?(e="function"==typeof t?t:(0,r.default)(+t),u):e},u.y=function(e){return arguments.length?(l="function"==typeof e?e:(0,r.default)(+e),u):l},u.defined=function(e){return arguments.length?(o="function"==typeof e?e:(0,r.default)(!!e),u):o},u.curve=function(e){return arguments.length?(c=e,null!=d&&(p=c(d)),u):c},u.context=function(e){return arguments.length?(null==e?d=p=null:p=c(d=e),u):d},u}],85833)},61744,e=>{"use strict";var t=e.i(44366),r={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4};function a(e,t){if(void 0===e||void 0===t)return{angle:0,deltaX:0,deltaY:0};e=i(e),t=i(t);let[r,a]=[e.x,e.y],[s,n]=[t.x,t.y],l=s-r,o=n-a;return{angle:Math.atan(o/l),deltaX:l,deltaY:o}}(0,t.__name)(a,"calculateDeltaAndAngle");var i=(0,t.__name)(e=>Array.isArray(e)?{x:e[0],y:e[1]}:e,"pointTransformer"),s=(0,t.__name)(e=>({x:(0,t.__name)(function(t,s,n){let l=0,o=i(n[0]).x<i(n[n.length-1]).x?"left":"right";if(0===s&&Object.hasOwn(r,e.arrowTypeStart)){let{angle:t,deltaX:i}=a(n[0],n[1]);l=r[e.arrowTypeStart]*Math.cos(t)*(i>=0?1:-1)}else if(s===n.length-1&&Object.hasOwn(r,e.arrowTypeEnd)){let{angle:t,deltaX:i}=a(n[n.length-1],n[n.length-2]);l=r[e.arrowTypeEnd]*Math.cos(t)*(i>=0?1:-1)}let d=Math.abs(i(t).x-i(n[n.length-1]).x),c=Math.abs(i(t).y-i(n[n.length-1]).y),p=Math.abs(i(t).x-i(n[0]).x),m=Math.abs(i(t).y-i(n[0]).y),u=r[e.arrowTypeStart],h=r[e.arrowTypeEnd];if(d<h&&d>0&&c<h){let e=h+1-d;e*="right"===o?-1:1,l-=e}if(p<u&&p>0&&m<u){let e=u+1-p;e*="right"===o?-1:1,l+=e}return i(t).x+l},"x"),y:(0,t.__name)(function(t,s,n){let l=0,o=i(n[0]).y<i(n[n.length-1]).y?"down":"up";if(0===s&&Object.hasOwn(r,e.arrowTypeStart)){let{angle:t,deltaY:i}=a(n[0],n[1]);l=r[e.arrowTypeStart]*Math.abs(Math.sin(t))*(i>=0?1:-1)}else if(s===n.length-1&&Object.hasOwn(r,e.arrowTypeEnd)){let{angle:t,deltaY:i}=a(n[n.length-1],n[n.length-2]);l=r[e.arrowTypeEnd]*Math.abs(Math.sin(t))*(i>=0?1:-1)}let d=Math.abs(i(t).y-i(n[n.length-1]).y),c=Math.abs(i(t).x-i(n[n.length-1]).x),p=Math.abs(i(t).y-i(n[0]).y),m=Math.abs(i(t).x-i(n[0]).x),u=r[e.arrowTypeStart],h=r[e.arrowTypeEnd];if(d<h&&d>0&&c<h){let e=h+1-d;e*="up"===o?-1:1,l-=e}if(p<u&&p>0&&m<u){let e=u+1-p;e*="up"===o?-1:1,l+=e}return i(t).y+l},"y")}),"getLineFunctionsWithOffset");e.s(["getLineFunctionsWithOffset",()=>s])},7276,e=>{"use strict";var t=e.i(61744),r=e.i(41033),a=e.i(1884),i=e.i(10475),s=e.i(56567),n=e.i(18873),l=e.i(44366);e.i(47716);var o=e.i(104),d=e.i(51262),c=e.i(26157),p=e.i(72200),m=e.i(22914),u=e.i(93158),h=e.i(63823),f=e.i(92536),g=e.i(26619),y=e.i(81142),_=e.i(55868),b=e.i(63018),k=e.i(85833),w=e.i(23685),v=e.i(83272),x=(0,l.__name)((e,t,r,a,i,s)=>{t.arrowTypeStart&&L(e,"start",t.arrowTypeStart,r,a,i,s),t.arrowTypeEnd&&L(e,"end",t.arrowTypeEnd,r,a,i,s)},"addEdgeMarkers"),M={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},L=(0,l.__name)((e,t,r,a,i,s,n)=>{let o=M[r];if(!o)return void l.log.warn(`Unknown arrow type: ${r}`);let d=o.type,c=`${i}_${s}-${d}${"start"===t?"Start":"End"}`;if(n&&""!==n.trim()){let r=n.replace(/[^\dA-Za-z]/g,"_"),i=`${c}_${r}`;if(!document.getElementById(i)){let e=document.getElementById(c);if(e){let t=e.cloneNode(!0);t.id=i,t.querySelectorAll("path, circle, line").forEach(e=>{e.setAttribute("stroke",n),o.fill&&e.setAttribute("fill",n)}),e.parentNode?.appendChild(t)}}e.attr(`marker-${t}`,`url(${a}#${i})`)}else e.attr(`marker-${t}`,`url(${a}#${c})`)},"addEdgeMarker"),$=new Map,j=new Map,S=(0,l.__name)(()=>{$.clear(),j.clear()},"clear"),E=(0,l.__name)(e=>e?e.reduce((e,t)=>e+";"+t,""):"","getLabelStyles"),C=(0,l.__name)(async(e,t)=>{let a,i=(0,l.evaluate)((0,l.getConfig2)().flowchart.htmlLabels),n=await (0,s.createText)(e,t.label,{style:E(t.labelStyle),useHtmlLabels:i,addSvgBackground:!0,isNode:!1});l.log.info("abc82",t,t.labelType);let o=e.insert("g").attr("class","edgeLabel"),d=o.insert("g").attr("class","label");d.node().appendChild(n);let c=n.getBBox();if(i){let e=n.children[0],t=(0,w.select)(n);c=e.getBoundingClientRect(),t.attr("width",c.width),t.attr("height",c.height)}if(d.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"),$.set(t.id,o),t.width=c.width,t.height=c.height,t.startLabelLeft){let i=await (0,r.createLabel_default)(t.startLabelLeft,E(t.labelStyle)),s=e.insert("g").attr("class","edgeTerminals"),n=s.insert("g").attr("class","inner");a=n.node().appendChild(i);let l=i.getBBox();n.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),j.get(t.id)||j.set(t.id,{}),j.get(t.id).startLeft=s,A(a,t.startLabelLeft)}if(t.startLabelRight){let i=await (0,r.createLabel_default)(t.startLabelRight,E(t.labelStyle)),s=e.insert("g").attr("class","edgeTerminals"),n=s.insert("g").attr("class","inner");a=s.node().appendChild(i),n.node().appendChild(i);let l=i.getBBox();n.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),j.get(t.id)||j.set(t.id,{}),j.get(t.id).startRight=s,A(a,t.startLabelRight)}if(t.endLabelLeft){let i=await (0,r.createLabel_default)(t.endLabelLeft,E(t.labelStyle)),s=e.insert("g").attr("class","edgeTerminals"),n=s.insert("g").attr("class","inner");a=n.node().appendChild(i);let l=i.getBBox();n.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),s.node().appendChild(i),j.get(t.id)||j.set(t.id,{}),j.get(t.id).endLeft=s,A(a,t.endLabelLeft)}if(t.endLabelRight){let i=await (0,r.createLabel_default)(t.endLabelRight,E(t.labelStyle)),s=e.insert("g").attr("class","edgeTerminals"),n=s.insert("g").attr("class","inner");a=n.node().appendChild(i);let l=i.getBBox();n.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),s.node().appendChild(i),j.get(t.id)||j.set(t.id,{}),j.get(t.id).endRight=s,A(a,t.endLabelRight)}return n},"insertEdgeLabel");function A(e,t){(0,l.getConfig2)().flowchart.htmlLabels&&e&&(e.style.width=9*t.length+"px",e.style.height="12px")}(0,l.__name)(A,"setTerminalWidth");var T=(0,l.__name)((e,t)=>{l.log.debug("Moving label abc88 ",e.id,e.label,$.get(e.id),t);let r=t.updatedPath?t.updatedPath:t.originalPath,i=(0,l.getConfig2)(),{subGraphTitleTotalMargin:s}=(0,a.getSubGraphTitleMargins)(i);if(e.label){let a=$.get(e.id),i=e.x,o=e.y;if(r){let a=n.utils_default.calcLabelPosition(r);l.log.debug("Moving label "+e.label+" from (",i,",",o,") to (",a.x,",",a.y,") abc88"),t.updatedPath&&(i=a.x,o=a.y)}a.attr("transform",`translate(${i}, ${o+s/2})`)}if(e.startLabelLeft){let t=j.get(e.id).startLeft,a=e.x,i=e.y;if(r){let t=n.utils_default.calcTerminalLabelPosition(10*!!e.arrowTypeStart,"start_left",r);a=t.x,i=t.y}t.attr("transform",`translate(${a}, ${i})`)}if(e.startLabelRight){let t=j.get(e.id).startRight,a=e.x,i=e.y;if(r){let t=n.utils_default.calcTerminalLabelPosition(10*!!e.arrowTypeStart,"start_right",r);a=t.x,i=t.y}t.attr("transform",`translate(${a}, ${i})`)}if(e.endLabelLeft){let t=j.get(e.id).endLeft,a=e.x,i=e.y;if(r){let t=n.utils_default.calcTerminalLabelPosition(10*!!e.arrowTypeEnd,"end_left",r);a=t.x,i=t.y}t.attr("transform",`translate(${a}, ${i})`)}if(e.endLabelRight){let t=j.get(e.id).endRight,a=e.x,i=e.y;if(r){let t=n.utils_default.calcTerminalLabelPosition(10*!!e.arrowTypeEnd,"end_right",r);a=t.x,i=t.y}t.attr("transform",`translate(${a}, ${i})`)}},"positionEdgeLabel"),O=(0,l.__name)((e,t)=>{let r=e.x,a=e.y,i=Math.abs(t.x-r),s=Math.abs(t.y-a),n=e.width/2,l=e.height/2;return i>=n||s>=l},"outsideNode"),P=(0,l.__name)((e,t,r)=>{l.log.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);let a=e.x,i=e.y,s=Math.abs(a-r.x),n=e.width/2,o=r.x<t.x?n-s:n+s,d=e.height/2,c=Math.abs(t.y-r.y),p=Math.abs(t.x-r.x);if(Math.abs(i-t.y)*n>Math.abs(a-t.x)*d){let e=r.y<t.y?t.y-d-i:i-d-t.y;o=p*e/c;let a={x:r.x<t.x?r.x+o:r.x-p+o,y:r.y<t.y?r.y+c-e:r.y-c+e};return 0===o&&(a.x=t.x,a.y=t.y),0===p&&(a.x=t.x),0===c&&(a.y=t.y),l.log.debug(`abc89 top/bottom calc, Q ${c}, q ${e}, R ${p}, r ${o}`,a),a}{let e=c*(o=r.x<t.x?t.x-n-a:a-n-t.x)/p,i=r.x<t.x?r.x+p-o:r.x-p+o,s=r.y<t.y?r.y+e:r.y-e;return l.log.debug(`sides calc abc89, Q ${c}, q ${e}, R ${p}, r ${o}`,{_x:i,_y:s}),0===o&&(i=t.x,s=t.y),0===p&&(i=t.x),0===c&&(s=t.y),{x:i,y:s}}},"intersection"),D=(0,l.__name)((e,t)=>{l.log.warn("abc88 cutPathAtIntersect",e,t);let r=[],a=e[0],i=!1;return e.forEach(e=>{if(l.log.info("abc88 checking point",e,t),O(t,e)||i)l.log.warn("abc88 outside",e,a),a=e,i||r.push(e);else{let s=P(t,a,e);l.log.debug("abc88 inside",e,a,s),l.log.debug("abc88 intersection",s,t);let n=!1;r.forEach(e=>{n=n||e.x===s.x&&e.y===s.y}),r.some(e=>e.x===s.x&&e.y===s.y)?l.log.warn("abc88 no intersect",s,r):r.push(s),i=!0}}),l.log.debug("returning points",r),r},"cutPathAtIntersect");function z(e){let t=[],r=[];for(let a=1;a<e.length-1;a++){let i=e[a-1],s=e[a],n=e[a+1];i.x===s.x&&s.y===n.y&&Math.abs(s.x-n.x)>5&&Math.abs(s.y-i.y)>5?(t.push(s),r.push(a)):i.y===s.y&&s.x===n.x&&Math.abs(s.x-i.x)>5&&Math.abs(s.y-n.y)>5&&(t.push(s),r.push(a))}return{cornerPoints:t,cornerPointPositions:r}}(0,l.__name)(z,"extractCornerPoints");var R=(0,l.__name)(function(e,t,r){let a=t.x-e.x,i=t.y-e.y,s=r/Math.sqrt(a*a+i*i);return{x:t.x-s*a,y:t.y-s*i}},"findAdjacentPoint"),B=(0,l.__name)(function(e){let{cornerPointPositions:t}=z(e),r=[];for(let a=0;a<e.length;a++)if(t.includes(a)){let t=e[a-1],i=e[a+1],s=e[a],n=R(t,s,5),o=R(i,s,5),d=o.x-n.x,c=o.y-n.y;r.push(n);let p=2*Math.sqrt(2),m={x:s.x,y:s.y};Math.abs(i.x-t.x)>10&&Math.abs(i.y-t.y)>=10?(l.log.debug("Corner point fixing",Math.abs(i.x-t.x),Math.abs(i.y-t.y)),m=s.x===n.x?{x:d<0?n.x-5+p:n.x+5-p,y:c<0?n.y-p:n.y+p}:{x:d<0?n.x-p:n.x+p,y:c<0?n.y-5+p:n.y+5-p}):l.log.debug("Corner point skipping fixing",Math.abs(i.x-t.x),Math.abs(i.y-t.y)),r.push(m,o)}else r.push(e[a]);return r},"fixCorners"),W=(0,l.__name)(function(e,r,a,s,M,L,$){let j,S,{handDrawnSeed:E}=(0,l.getConfig2)(),C=r.points,A=!1,T=[];for(let e in r.cssCompiledStyles)(0,i.isLabelStyle)(e)||T.push(r.cssCompiledStyles[e]);L.intersect&&M.intersect&&((C=C.slice(1,r.points.length-1)).unshift(M.intersect(C[0])),l.log.debug("Last point APA12",r.start,"-->",r.end,C[C.length-1],L,L.intersect(C[C.length-1])),C.push(L.intersect(C[C.length-1]))),r.toCluster&&(l.log.info("to cluster abc88",a.get(r.toCluster)),C=D(r.points,a.get(r.toCluster).node),A=!0),r.fromCluster&&(l.log.debug("from cluster abc88",a.get(r.fromCluster),JSON.stringify(C,null,2)),C=D(C.reverse(),a.get(r.fromCluster).node).reverse(),A=!0);let O=C.filter(e=>!Number.isNaN(e.y));O=B(O);let P=o.curveBasis;switch(P=d.curveLinear,r.curve){case"linear":P=d.curveLinear;break;case"basis":default:P=o.curveBasis;break;case"cardinal":P=c.curveCardinal;break;case"bumpX":P=p.curveBumpX;break;case"bumpY":P=m.curveBumpY;break;case"catmullRom":P=u.curveCatmullRom;break;case"monotoneX":P=h.curveMonotoneX;break;case"monotoneY":P=f.curveMonotoneY;break;case"natural":P=g.curveNatural;break;case"step":P=y.curveStep;break;case"stepAfter":P=_.curveStepAfter;break;case"stepBefore":P=b.curveStepBefore}let{x:z,y:R}=(0,t.getLineFunctionsWithOffset)(r),W=(0,k.line)().x(z).y(R).curve(P);switch(r.thickness){case"normal":default:j="edge-thickness-normal";break;case"thick":j="edge-thickness-thick";break;case"invisible":j="edge-thickness-invisible"}switch(r.pattern){case"solid":default:j+=" edge-pattern-solid";break;case"dotted":j+=" edge-pattern-dotted";break;case"dashed":j+=" edge-pattern-dashed"}let H=W(O),q=Array.isArray(r.style)?r.style:r.style?[r.style]:[],Y=q.find(e=>e?.startsWith("stroke:"));if("handDrawn"===r.look){let t=v.default.svg(e);Object.assign([],O);let a=t.path(H,{roughness:.3,seed:E});j+=" transition";let i=(S=(0,w.select)(a).select("path").attr("id",r.id).attr("class"," "+j+(r.classes?" "+r.classes:"")).attr("style",q?q.reduce((e,t)=>e+";"+t,""):"")).attr("d");S.attr("d",i),e.node().appendChild(S.node())}else{let t=T.join(";"),a=q?q.reduce((e,t)=>e+t+";",""):"",i="";r.animate&&(i=" edge-animation-fast"),r.animation&&(i=" edge-animation-"+r.animation);let s=t?t+";"+a+";":a;S=e.append("path").attr("d",H).attr("id",r.id).attr("class"," "+j+(r.classes?" "+r.classes:"")+(i??"")).attr("style",s),Y=s.match(/stroke:([^;]+)/)?.[1]}let X="";((0,l.getConfig2)().flowchart.arrowMarkerAbsolute||(0,l.getConfig2)().state.arrowMarkerAbsolute)&&(X=(0,l.getUrl)(!0)),l.log.info("arrowTypeStart",r.arrowTypeStart),l.log.info("arrowTypeEnd",r.arrowTypeEnd),x(S,r,X,$,s,Y);let F=Math.floor(C.length/2),I=C[F];n.utils_default.isLabelCoordinateInPath(I,S.attr("d"))||(A=!0);let N={};return A&&(N.updatedPath=C),N.originalPath=r.points,N},"insertEdge"),H=(0,l.__name)((e,t,r,a)=>{t.forEach(t=>{ee[t](e,r,a)})},"insertMarkers"),q=(0,l.__name)((e,t,r)=>{l.log.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),Y=(0,l.__name)((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),X=(0,l.__name)((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),F=(0,l.__name)((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),I=(0,l.__name)((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),N=(0,l.__name)((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),U=(0,l.__name)((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),V=(0,l.__name)((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),G=(0,l.__name)((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),Z=(0,l.__name)((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneStart").attr("class","marker onlyOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneEnd").attr("class","marker onlyOne "+t).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),Q=(0,l.__name)((e,t,r)=>{let a=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneStart").attr("class","marker zeroOrOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),a.append("path").attr("d","M9,0 L9,18");let i=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+t).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),i.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),J=(0,l.__name)((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreStart").attr("class","marker oneOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreEnd").attr("class","marker oneOrMore "+t).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),K=(0,l.__name)((e,t,r)=>{let a=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),a.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");let i=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+t).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),i.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),ee={extension:q,composition:Y,aggregation:X,dependency:F,lollipop:I,point:N,circle:U,cross:V,barb:G,only_one:Z,zero_or_one:Q,one_or_more:J,zero_or_more:K,requirement_arrow:(0,l.__name)((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),requirement_contains:(0,l.__name)((e,t,r)=>{let a=e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");a.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),a.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),a.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains")};e.s(["clear",()=>S,"insertEdge",()=>W,"insertEdgeLabel",()=>C,"markers_default",()=>H,"positionEdgeLabel",()=>T])},42135,e=>{"use strict";var t=e.i(7276),r=e.i(41033),a=e.i(18873),i=e.i(44366),s={common:i.common_default,getConfig:i.getConfig,insertCluster:r.insertCluster,insertEdge:t.insertEdge,insertEdgeLabel:t.insertEdgeLabel,insertMarkers:t.markers_default,insertNode:r.insertNode,interpolateToCurve:a.interpolateToCurve,labelHelper:r.labelHelper,log:i.log,positionEdgeLabel:t.positionEdgeLabel},n={},l=(0,i.__name)(e=>{for(let t of e)n[t.name]=t},"registerLayoutLoaders");(0,i.__name)(()=>{l([{name:"dagre",loader:(0,i.__name)(async()=>await e.A(11617),"loader")}])},"registerDefaultLayoutLoaders")();var o=(0,i.__name)(async(e,t)=>{if(!(e.layoutAlgorithm in n))throw Error(`Unknown layout algorithm: ${e.layoutAlgorithm}`);let r=n[e.layoutAlgorithm];return(await r.loader()).render(e,t,s,{algorithm:r.algorithm})},"render"),d=(0,i.__name)((e="",{fallback:t="dagre"}={})=>{if(e in n)return e;if(t in n)return i.log.warn(`Layout algorithm ${e} is not registered. Using ${t} as fallback.`),t;throw Error(`Both layout algorithms ${e} and ${t} are not registered.`)},"getRegisteredLayoutAlgorithm");e.s(["getRegisteredLayoutAlgorithm",()=>d,"registerLayoutLoaders",()=>l,"render",()=>o])},75324,e=>{"use strict";var t={name:"mermaid",version:"11.10.0",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.0.4","@iconify/utils":"^2.1.33","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.11",dayjs:"^1.11.13",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.0.0",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.2","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.0",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.0.2",jison:"^0.4.18","js-base64":"^3.7.7",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.2",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.10","type-fest":"^4.35.0",typedoc:"^0.27.8","typedoc-plugin-markdown":"^4.4.2",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.0.2","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}};e.s(["package_default",()=>t])},76913,e=>{"use strict";var t=e.i(13737),r=e.i(42135);e.i(7276),e.i(61744),e.i(41033),e.i(1884),e.i(10475);var a=e.i(56567),i=e.i(18873),s=e.i(75324),n=e.i(80132),l=e.i(44366),o=e.i(40524);e.i(47716);var d=e.i(23685),c="comm",p="rule",m="decl",u=Math.abs,h=String.fromCharCode;function f(e,t,r){return e.replace(t,r)}function g(e,t){return 0|e.charCodeAt(t)}function y(e,t,r){return e.slice(t,r)}function _(e){return e.length}function b(e,t){return t.push(e),e}var k=1,w=1,v=0,x=0,M=0,L="";function $(e,t,r,a,i,s,n,l){return{value:e,root:t,parent:r,type:a,props:i,children:s,line:k,column:w,length:n,return:"",siblings:l}}function j(){return M=x<v?g(L,x++):0,w++,10===M&&(w=1,k++),M}function S(){return g(L,x)}function E(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function C(e){var t,r;return(t=x-1,r=function e(t){for(;j();)switch(M){case t:return x;case 34:case 39:34!==t&&39!==t&&e(M);break;case 40:41===t&&e(t);break;case 92:j()}return x}(91===e?e+2:40===e?e+1:e),y(L,t,r)).trim()}function A(e,t,r,a,i,s,n,l,o,d,c,m){for(var h=i-1,g=0===i?s:[""],_=g.length,b=0,k=0,w=0;b<a;++b)for(var v=0,x=y(e,h+1,h=u(k=n[b])),M=e;v<_;++v)(M=(k>0?g[v]+" "+x:f(x,/&\f/g,g[v])).trim())&&(o[w++]=M);return $(e,t,r,0===i?p:l,o,d,c,m)}function T(e,t,r,a,i){return $(e,t,r,m,y(e,0,a),y(e,a+1,-1),a,i)}function O(e,t){for(var r="",a=0;a<e.length;a++)r+=t(e[a],a,e,t)||"";return r}function P(e,t,r,a){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case"@namespace":case m:return e.return=e.return||e.value;case c:return"";case"@keyframes":return e.return=e.value+"{"+O(e.children,a)+"}";case p:if(!_(e.value=e.props.join(",")))return""}return _(r=O(e.children,a))?e.return=e.value+"{"+r+"}":""}var D=e.i(24154),z=e.i(41241),R={id:"c4",detector:(0,l.__name)(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),loader:(0,l.__name)(async()=>{let{diagram:t}=await e.A(83180);return{id:"c4",diagram:t}},"loader")},B="flowchart",W=(0,l.__name)((e,t)=>t?.flowchart?.defaultRenderer!=="dagre-wrapper"&&t?.flowchart?.defaultRenderer!=="elk"&&/^\s*graph/.test(e),"detector"),H=(0,l.__name)(async()=>{let{diagram:t}=await e.A(75759);return{id:B,diagram:t}},"loader"),q={id:B,detector:W,loader:H},Y="flowchart-v2",X=(0,l.__name)((e,t)=>t?.flowchart?.defaultRenderer!=="dagre-d3"&&(t?.flowchart?.defaultRenderer==="elk"&&(t.layout="elk"),!!/^\s*graph/.test(e)&&t?.flowchart?.defaultRenderer==="dagre-wrapper"||/^\s*flowchart/.test(e)),"detector"),F=(0,l.__name)(async()=>{let{diagram:t}=await e.A(75759);return{id:Y,diagram:t}},"loader"),I={id:Y,detector:X,loader:F},N={id:"er",detector:(0,l.__name)(e=>/^\s*erDiagram/.test(e),"detector"),loader:(0,l.__name)(async()=>{let{diagram:t}=await e.A(69644);return{id:"er",diagram:t}},"loader")},U="gitGraph",V=(0,l.__name)(e=>/^\s*gitGraph/.test(e),"detector"),G=(0,l.__name)(async()=>{let{diagram:t}=await e.A(3251);return{id:U,diagram:t}},"loader"),Z={id:U,detector:V,loader:G},Q="gantt",J=(0,l.__name)(e=>/^\s*gantt/.test(e),"detector"),K=(0,l.__name)(async()=>{let{diagram:t}=await e.A(17543);return{id:Q,diagram:t}},"loader"),ee={id:Q,detector:J,loader:K},et="info",er=(0,l.__name)(e=>/^\s*info/.test(e),"detector"),ea=(0,l.__name)(async()=>{let{diagram:t}=await e.A(35750);return{id:et,diagram:t}},"loader"),ei={id:et,detector:er,loader:ea},es={id:"pie",detector:(0,l.__name)(e=>/^\s*pie/.test(e),"detector"),loader:(0,l.__name)(async()=>{let{diagram:t}=await e.A(93160);return{id:"pie",diagram:t}},"loader")},en="quadrantChart",el=(0,l.__name)(e=>/^\s*quadrantChart/.test(e),"detector"),eo=(0,l.__name)(async()=>{let{diagram:t}=await e.A(46740);return{id:en,diagram:t}},"loader"),ed={id:en,detector:el,loader:eo},ec="xychart",ep=(0,l.__name)(e=>/^\s*xychart(-beta)?/.test(e),"detector"),em=(0,l.__name)(async()=>{let{diagram:t}=await e.A(32040);return{id:ec,diagram:t}},"loader"),eu={id:ec,detector:ep,loader:em},eh="requirement",ef=(0,l.__name)(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),eg=(0,l.__name)(async()=>{let{diagram:t}=await e.A(52914);return{id:eh,diagram:t}},"loader"),ey={id:eh,detector:ef,loader:eg},e_="sequence",eb=(0,l.__name)(e=>/^\s*sequenceDiagram/.test(e),"detector"),ek=(0,l.__name)(async()=>{let{diagram:t}=await e.A(9186);return{id:e_,diagram:t}},"loader"),ew={id:e_,detector:eb,loader:ek},ev="class",ex=(0,l.__name)((e,t)=>t?.class?.defaultRenderer!=="dagre-wrapper"&&/^\s*classDiagram/.test(e),"detector"),eM=(0,l.__name)(async()=>{let{diagram:t}=await e.A(99318);return{id:ev,diagram:t}},"loader"),eL={id:ev,detector:ex,loader:eM},e$="classDiagram",ej=(0,l.__name)((e,t)=>!!/^\s*classDiagram/.test(e)&&t?.class?.defaultRenderer==="dagre-wrapper"||/^\s*classDiagram-v2/.test(e),"detector"),eS=(0,l.__name)(async()=>{let{diagram:t}=await e.A(67956);return{id:e$,diagram:t}},"loader"),eE={id:e$,detector:ej,loader:eS},eC="state",eA=(0,l.__name)((e,t)=>t?.state?.defaultRenderer!=="dagre-wrapper"&&/^\s*stateDiagram/.test(e),"detector"),eT=(0,l.__name)(async()=>{let{diagram:t}=await e.A(2175);return{id:eC,diagram:t}},"loader"),eO={id:eC,detector:eA,loader:eT},eP="stateDiagram",eD=(0,l.__name)((e,t)=>!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&t?.state?.defaultRenderer==="dagre-wrapper"),"detector"),ez=(0,l.__name)(async()=>{let{diagram:t}=await e.A(82162);return{id:eP,diagram:t}},"loader"),eR={id:eP,detector:eD,loader:ez},eB="journey",eW=(0,l.__name)(e=>/^\s*journey/.test(e),"detector"),eH=(0,l.__name)(async()=>{let{diagram:t}=await e.A(67090);return{id:eB,diagram:t}},"loader"),eq={id:eB,detector:eW,loader:eH},eY={draw:(0,l.__name)((e,t,r)=>{l.log.debug("rendering svg for syntax error\n");let a=(0,n.selectSvgElement)(t),i=a.append("g");a.attr("viewBox","0 0 2412 512"),(0,l.configureSvgSize)(a,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw")},eX={db:{},renderer:eY,parser:{parse:(0,l.__name)(()=>{},"parse")}},eF="flowchart-elk",eI=(0,l.__name)((e,t={})=>!!(/^\s*flowchart-elk/.test(e)||/^\s*(flowchart|graph)/.test(e)&&t?.flowchart?.defaultRenderer==="elk")&&(t.layout="elk",!0),"detector"),eN=(0,l.__name)(async()=>{let{diagram:t}=await e.A(75759);return{id:eF,diagram:t}},"loader"),eU={id:eF,detector:eI,loader:eN},eV="timeline",eG=(0,l.__name)(e=>/^\s*timeline/.test(e),"detector"),eZ=(0,l.__name)(async()=>{let{diagram:t}=await e.A(27228);return{id:eV,diagram:t}},"loader"),eQ={id:eV,detector:eG,loader:eZ},eJ="mindmap",eK=(0,l.__name)(e=>/^\s*mindmap/.test(e),"detector"),e0=(0,l.__name)(async()=>{let{diagram:t}=await e.A(49733);return{id:eJ,diagram:t}},"loader"),e1={id:eJ,detector:eK,loader:e0},e2="kanban",e6=(0,l.__name)(e=>/^\s*kanban/.test(e),"detector"),e3=(0,l.__name)(async()=>{let{diagram:t}=await e.A(37098);return{id:e2,diagram:t}},"loader"),e8={id:e2,detector:e6,loader:e3},e5="sankey",e4=(0,l.__name)(e=>/^\s*sankey(-beta)?/.test(e),"detector"),e7=(0,l.__name)(async()=>{let{diagram:t}=await e.A(19354);return{id:e5,diagram:t}},"loader"),e9={id:e5,detector:e4,loader:e7},te="packet",tt=(0,l.__name)(e=>/^\s*packet(-beta)?/.test(e),"detector"),tr=(0,l.__name)(async()=>{let{diagram:t}=await e.A(11546);return{id:te,diagram:t}},"loader"),ta={id:te,detector:tt,loader:tr},ti="radar",ts=(0,l.__name)(e=>/^\s*radar-beta/.test(e),"detector"),tn=(0,l.__name)(async()=>{let{diagram:t}=await e.A(91196);return{id:ti,diagram:t}},"loader"),tl={id:ti,detector:ts,loader:tn},to="block",td=(0,l.__name)(e=>/^\s*block(-beta)?/.test(e),"detector"),tc=(0,l.__name)(async()=>{let{diagram:t}=await e.A(80550);return{id:to,diagram:t}},"loader"),tp={id:to,detector:td,loader:tc},tm="architecture",tu=(0,l.__name)(e=>/^\s*architecture/.test(e),"detector"),th=(0,l.__name)(async()=>{let{diagram:t}=await e.A(37099);return{id:tm,diagram:t}},"loader"),tf={id:tm,detector:tu,loader:th},tg="treemap",ty=(0,l.__name)(e=>/^\s*treemap/.test(e),"detector"),t_=(0,l.__name)(async()=>{let{diagram:t}=await e.A(97241);return{id:tg,diagram:t}},"loader"),tb={id:tg,detector:ty,loader:t_},tk=!1,tw=(0,l.__name)(()=>{tk||(tk=!0,(0,l.registerDiagram)("error",eX,e=>"error"===e.toLowerCase().trim()),(0,l.registerDiagram)("---",{db:{clear:(0,l.__name)(()=>{},"clear")},styles:{},renderer:{draw:(0,l.__name)(()=>{},"draw")},parser:{parse:(0,l.__name)(()=>{throw Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:(0,l.__name)(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),(0,l.registerLazyLoadedDiagrams)(eU,e1,tf),(0,l.registerLazyLoadedDiagrams)(R,e8,eE,eL,N,ee,ei,es,ey,ew,I,q,eQ,Z,eR,eO,eq,ed,e9,ta,eu,tp,tl,tb))},"addDiagrams"),tv=(0,l.__name)(async()=>{l.log.debug("Loading registered diagrams");let e=(await Promise.allSettled(Object.entries(l.detectors).map(async([e,{detector:t,loader:r}])=>{if(r)try{(0,l.getDiagram)(e)}catch{try{let{diagram:e,id:a}=await r();(0,l.registerDiagram)(a,e,t)}catch(t){throw l.log.error(`Failed to load external diagram with key ${e}. Removing from detectors.`),delete l.detectors[e],t}}}))).filter(e=>"rejected"===e.status);if(e.length>0){for(let t of(l.log.error(`Failed to load ${e.length} external diagrams`),e))l.log.error(t);throw Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams");function tx(e,t){e.attr("role","graphics-document document"),""!==t&&e.attr("aria-roledescription",t)}function tM(e,t,r,a){if(void 0!==e.insert){if(r){let t=`chart-desc-${a}`;e.attr("aria-describedby",t),e.insert("desc",":first-child").attr("id",t).text(r)}if(t){let r=`chart-title-${a}`;e.attr("aria-labelledby",r),e.insert("title",":first-child").attr("id",r).text(t)}}}(0,l.__name)(tx,"setA11yDiagramInfo"),(0,l.__name)(tM,"addSVGa11yTitleDescription");var tL=class e{constructor(e,t,r,a,i){this.type=e,this.text=t,this.db=r,this.parser=a,this.renderer=i}static{(0,l.__name)(this,"Diagram")}static async fromText(t,r={}){let a=(0,l.getConfig)(),s=(0,l.detectType)(t,a);t=(0,i.encodeEntities)(t)+"\n";try{(0,l.getDiagram)(s)}catch{let e=(0,l.getDiagramLoader)(s);if(!e)throw new l.UnknownDiagramError(`Diagram ${s} not found.`);let{id:t,diagram:r}=await e();(0,l.registerDiagram)(t,r)}let{db:n,parser:o,renderer:d,init:c}=(0,l.getDiagram)(s);return o.parser&&(o.parser.yy=n),n.clear?.(),c?.(a),r.title&&n.setDiagramTitle?.(r.title),await o.parse(t),new e(s,t,n,o,d)}async render(e,t){await this.renderer.draw(this.text,e,t,this)}getParser(){return this.parser}getType(){return this.type}},t$=[],tj=(0,l.__name)(()=>{t$.forEach(e=>{e()}),t$=[]},"attachFunctions"),tS=(0,l.__name)(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function tE(e){let r=e.match(l.frontMatterRegex);if(!r)return{text:e,metadata:{}};let a=(0,t.load)(r[1],{schema:t.JSON_SCHEMA})??{};a="object"!=typeof a||Array.isArray(a)?{}:a;let i={};return a.displayMode&&(i.displayMode=a.displayMode.toString()),a.title&&(i.title=a.title.toString()),a.config&&(i.config=a.config),{text:e.slice(r[0].length),metadata:i}}(0,l.__name)(tE,"extractFrontMatter");var tC=(0,l.__name)(e=>e.replace(/\r\n?/g,"\n").replace(/<(\w+)([^>]*)>/g,(e,t,r)=>"<"+t+r.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),tA=(0,l.__name)(e=>{let{text:t,metadata:r}=tE(e),{displayMode:a,title:i,config:s={}}=r;return a&&(s.gantt||(s.gantt={}),s.gantt.displayMode=a),{title:i,config:s,text:t}},"processFrontmatter"),tT=(0,l.__name)(e=>{let t=i.utils_default.detectInit(e)??{},r=i.utils_default.detectDirective(e,"wrap");return Array.isArray(r)?t.wrap=r.some(({type:e})=>"wrap"===e):r?.type==="wrap"&&(t.wrap=!0),{text:(0,i.removeDirectives)(e),directive:t}},"processDirectives");function tO(e){let t=tA(tC(e)),r=tT(t.text),a=(0,i.cleanAndMerge)(t.config,r.directive);return{code:e=tS(r.text),title:t.title,config:a}}function tP(e){return btoa(Array.from(new TextEncoder().encode(e),e=>String.fromCodePoint(e)).join(""))}(0,l.__name)(tO,"preprocessDiagram"),(0,l.__name)(tP,"toBase64");var tD=["foreignobject"],tz=["dominant-baseline"];function tR(e){let t=tO(e);return(0,l.reset)(),(0,l.addDirective)(t.config??{}),t}async function tB(e,t){tw();try{let{code:t,config:r}=tR(e);return{diagramType:(await tG(t)).type,config:r}}catch(e){if(t?.suppressErrors)return!1;throw e}}(0,l.__name)(tR,"processAndSetConfigs"),(0,l.__name)(tB,"parse");var tW=(0,l.__name)((e,t,r=[])=>`
.${e} ${t} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),tH=(0,l.__name)((e,t=new Map)=>{let r="";if(void 0!==e.themeCSS&&(r+=`
${e.themeCSS}`),void 0!==e.fontFamily&&(r+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),void 0!==e.altFontFamily&&(r+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){let a=e.htmlLabels??e.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];t.forEach(e=>{(0,z.default)(e.styles)||a.forEach(t=>{r+=tW(e.id,t,e.styles)}),(0,z.default)(e.textStyles)||(r+=tW(e.id,"tspan",(e?.textStyles||[]).map(e=>e.replace("color","fill"))))})}return r},"createCssStyles"),tq=(0,l.__name)((e,t,r,a)=>{var i,s,n;let o=tH(e,r),d=(0,l.styles_default)(t,o,e.themeVariables);return O((n=function e(t,r,a,i,s,n,l,o,d){for(var p,m,v,O,P,D,z=0,R=0,B=l,W=0,H=0,q=0,Y=1,X=1,F=1,I=0,N="",U=s,V=n,G=i,Z=N;X;)switch(q=I,I=j()){case 40:if(108!=q&&58==g(Z,B-1)){-1!=(P=Z+=f(C(I),"&","&\f"),D=u(z?o[z-1]:0),P.indexOf("&\f",D))&&(F=-1);break}case 34:case 39:case 91:Z+=C(I);break;case 9:case 10:case 13:case 32:Z+=function(e){for(;M=S();)if(M<33)j();else break;return E(e)>2||E(M)>3?"":" "}(q);break;case 92:Z+=function(e,t){for(var r;--t&&j()&&!(M<48)&&!(M>102)&&(!(M>57)||!(M<65))&&(!(M>70)||!(M<97)););return r=x+(t<6&&32==S()&&32==j()),y(L,e,r)}(x-1,7);continue;case 47:switch(S()){case 42:case 47:b((p=function(e,t){for(;j();)if(e+M===57)break;else if(e+M===84&&47===S())break;return"/*"+y(L,t,x-1)+"*"+h(47===e?e:j())}(j(),x),m=r,v=a,O=d,$(p,m,v,c,h(M),y(p,2,-2),0,O)),d),(5==E(q||1)||5==E(S()||1))&&_(Z)&&" "!==y(Z,-1,void 0)&&(Z+=" ");break;default:Z+="/"}break;case 123*Y:o[z++]=_(Z)*F;case 125*Y:case 59:case 0:switch(I){case 0:case 125:X=0;case 59+R:-1==F&&(Z=f(Z,/\f/g,"")),H>0&&(_(Z)-B||0===Y&&47===q)&&b(H>32?T(Z+";",i,a,B-1,d):T(f(Z," ","")+";",i,a,B-2,d),d);break;case 59:Z+=";";default:if(b(G=A(Z,r,a,z,R,s,o,N,U=[],V=[],B,n),n),123===I)if(0===R)e(Z,r,G,G,U,n,B,o,V);else{switch(W){case 99:if(110===g(Z,3))break;case 108:if(97===g(Z,2))break;default:R=0;case 100:case 109:case 115:}R?e(t,G,G,i&&b(A(t,G,G,0,0,s,o,N,s,U=[],B,V),V),s,V,B,o,i?U:V):e(Z,G,G,G,[""],V,0,o,V)}}z=R=H=0,Y=F=1,N=Z="",B=l;break;case 58:B=1+_(Z),H=q;default:if(Y<1){if(123==I)--Y;else if(125==I&&0==Y++&&125==(M=x>0?g(L,--x):0,w--,10===M&&(w=1,k--),M))continue}switch(Z+=h(I),I*Y){case 38:F=R>0?1:(Z+="\f",-1);break;case 44:o[z++]=(_(Z)-1)*F,F=1;break;case 64:45===S()&&(Z+=C(j())),W=S(),R=B=_(N=Z+=function(e){for(;!E(S());)j();return y(L,e,x)}(x)),I++;break;case 45:45===q&&2==_(Z)&&(Y=0)}}return n}("",null,null,null,[""],(s=i=`${a}{${d}}`,k=w=1,v=_(L=s),x=0,i=[]),0,[0],i),L="",n),P)},"createUserStyles"),tY=(0,l.__name)((e="",t,r)=>{let a=e;return r||t||(a=a.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),a=(a=(0,i.decodeEntities)(a)).replace(/<br>/g,"<br/>")},"cleanUpSvgCode"),tX=(0,l.__name)((e="",t)=>{let r=t?.viewBox?.baseVal?.height?t.viewBox.baseVal.height+"px":"100%",a=tP(`<body style="margin:0">${e}</body>`);return`<iframe style="width:100%;height:${r};border:0;margin:0;" src="data:text/html;charset=UTF-8;base64,${a}" sandbox="allow-top-navigation-by-user-activation allow-popups">
  The "iframe" tag is not supported by your browser.
</iframe>`},"putIntoIFrame"),tF=(0,l.__name)((e,t,r,a,i)=>{let s=e.append("div");s.attr("id",r),a&&s.attr("style",a);let n=s.append("svg").attr("id",t).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg");return i&&n.attr("xmlns:xlink",i),n.append("g"),e},"appendDivSvgG");function tI(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}(0,l.__name)(tI,"sandboxedIframe");var tN=(0,l.__name)((e,t,r,a)=>{e.getElementById(t)?.remove(),e.getElementById(r)?.remove(),e.getElementById(a)?.remove()},"removeExistingElements"),tU=(0,l.__name)(async function(e,t,r){let a,i;tw();let n=tR(t);t=n.code;let o=(0,l.getConfig)();l.log.debug(o),t.length>(o?.maxTextSize??5e4)&&(t="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");let c="#"+e,p="i"+e,m="#"+p,u="d"+e,h="#"+u,f=(0,l.__name)(()=>{let e=y?m:h,t=(0,d.select)(e).node();t&&"remove"in t&&t.remove()},"removeTempElements"),g=(0,d.select)("body"),y="sandbox"===o.securityLevel,_="loose"===o.securityLevel,b=o.fontFamily;if(void 0!==r){if(r&&(r.innerHTML=""),y){let e=tI((0,d.select)(r),p);(g=(0,d.select)(e.nodes()[0].contentDocument.body)).node().style.margin=0}else g=(0,d.select)(r);tF(g,e,u,`font-family: ${b}`,"http://www.w3.org/1999/xlink")}else{if(tN(document,e,u,p),y){let e=tI((0,d.select)("body"),p);(g=(0,d.select)(e.nodes()[0].contentDocument.body)).node().style.margin=0}else g=(0,d.select)("body");tF(g,e,u)}try{a=await tL.fromText(t,{title:n.title})}catch(e){if(o.suppressErrorRendering)throw f(),e;a=await tL.fromText("error"),i=e}let k=g.select(h).node(),w=a.type,v=k.firstChild,x=v.firstChild,M=tq(o,w,a.renderer.getClasses?.(t,a),c),L=document.createElement("style");L.innerHTML=M,v.insertBefore(L,x);try{await a.renderer.draw(t,e,s.package_default.version,a)}catch(r){throw o.suppressErrorRendering?f():eY.draw(t,e,s.package_default.version),r}tZ(w,g.select(`${h} svg`),a.db.getAccTitle?.(),a.db.getAccDescription?.()),g.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");let $=g.select(h).node().innerHTML;if(l.log.debug("config.arrowMarkerAbsolute",o.arrowMarkerAbsolute),$=tY($,y,(0,l.evaluate)(o.arrowMarkerAbsolute)),y?$=tX($,g.select(h+" svg").node()):_||($=D.default.sanitize($,{ADD_TAGS:tD,ADD_ATTR:tz,HTML_INTEGRATION_POINTS:{foreignobject:!0}})),tj(),i)throw i;return f(),{diagramType:w,svg:$,bindFunctions:a.db.bindFunctions}},"render");function tV(e={}){let t=(0,l.assignWithDepth_default)({},e);t?.fontFamily&&!t.themeVariables?.fontFamily&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),(0,l.saveConfigFromInitialize)(t),t?.theme&&t.theme in l.themes_default?t.themeVariables=l.themes_default[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=l.themes_default.default.getThemeVariables(t.themeVariables));let r="object"==typeof t?(0,l.setSiteConfig)(t):(0,l.getSiteConfig)();(0,l.setLogLevel)(r.logLevel),tw()}(0,l.__name)(tV,"initialize");var tG=(0,l.__name)((e,t={})=>{let{code:r}=tO(e);return tL.fromText(r,t)},"getDiagramFromText");function tZ(e,t,r,a){tx(t,e),tM(t,r,a,t.attr("id"))}(0,l.__name)(tZ,"addA11yInfo");var tQ=Object.freeze({render:tU,parse:tB,getDiagramFromText:tG,initialize:tV,getConfig:l.getConfig,setConfig:l.setConfig,getSiteConfig:l.getSiteConfig,updateSiteConfig:l.updateSiteConfig,reset:(0,l.__name)(()=>{(0,l.reset)()},"reset"),globalReset:(0,l.__name)(()=>{(0,l.reset)(l.defaultConfig)},"globalReset"),defaultConfig:l.defaultConfig});(0,l.setLogLevel)((0,l.getConfig)().logLevel),(0,l.reset)((0,l.getConfig)());var tJ=(0,l.__name)((e,t,r)=>{l.log.warn(e),(0,i.isDetailedError)(e)?(r&&r(e.str,e.hash),t.push({...e,message:e.str,error:e})):(r&&r(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),tK=(0,l.__name)(async function(e={querySelector:".mermaid"}){try{await t0(e)}catch(t){if((0,i.isDetailedError)(t)&&l.log.error(t.str),rr.parseError&&rr.parseError(t),!e.suppressErrors)throw l.log.error("Use the suppressErrors option to suppress these errors"),t}},"run"),t0=(0,l.__name)(async function({postRenderCallback:e,querySelector:t,nodes:r}={querySelector:".mermaid"}){let a,s,n=tQ.getConfig();if(l.log.debug(`${!e?"No ":""}Callback function found`),r)a=r;else if(t)a=document.querySelectorAll(t);else throw Error("Nodes and querySelector are both undefined");l.log.debug(`Found ${a.length} diagrams`),n?.startOnLoad!==void 0&&(l.log.debug("Start On Load: "+n?.startOnLoad),tQ.updateSiteConfig({startOnLoad:n?.startOnLoad}));let d=new i.utils_default.InitIDGenerator(n.deterministicIds,n.deterministicIDSeed),c=[];for(let t of Array.from(a)){if(l.log.info("Rendering diagram: "+t.id),t.getAttribute("data-processed"))continue;t.setAttribute("data-processed","true");let r=`mermaid-${d.next()}`;s=t.innerHTML,s=(0,o.dedent)(i.utils_default.entityDecode(s)).trim().replace(/<br\s*\/?>/gi,"<br/>");let a=i.utils_default.detectInit(s);a&&l.log.debug("Detected early reinit: ",a);try{let{svg:a,bindFunctions:i}=await re(r,s,t);t.innerHTML=a,e&&await e(r),i&&i(t)}catch(e){tJ(e,c,rr.parseError)}}if(c.length>0)throw c[0]},"runThrowsErrors"),t1=(0,l.__name)(function(e){tQ.initialize(e)},"initialize"),t2=(0,l.__name)(async function(e,t,r){l.log.warn("mermaid.init is deprecated. Please use run instead."),e&&t1(e);let a={postRenderCallback:r,querySelector:".mermaid"};"string"==typeof t?a.querySelector=t:t&&(t instanceof HTMLElement?a.nodes=[t]:a.nodes=t),await tK(a)},"init"),t6=(0,l.__name)(async(e,{lazyLoad:t=!0}={})=>{tw(),(0,l.registerLazyLoadedDiagrams)(...e),!1===t&&await tv()},"registerExternalDiagrams"),t3=(0,l.__name)(function(){if(rr.startOnLoad){let{startOnLoad:e}=tQ.getConfig();e&&rr.run().catch(e=>l.log.error("Mermaid failed to initialize",e))}},"contentLoaded");"undefined"!=typeof document&&window.addEventListener("load",t3,!1);var t8=(0,l.__name)(function(e){rr.parseError=e},"setParseErrorHandler"),t5=[],t4=!1,t7=(0,l.__name)(async()=>{if(!t4){for(t4=!0;t5.length>0;){let e=t5.shift();if(e)try{await e()}catch(e){l.log.error("Error executing queue",e)}}t4=!1}},"executeQueue"),t9=(0,l.__name)(async(e,t)=>new Promise((r,a)=>{let i=(0,l.__name)(()=>new Promise((i,s)=>{tQ.parse(e,t).then(e=>{i(e),r(e)},e=>{l.log.error("Error parsing",e),rr.parseError?.(e),s(e),a(e)})}),"performCall");t5.push(i),t7().catch(a)}),"parse"),re=(0,l.__name)((e,t,r)=>new Promise((a,i)=>{let s=(0,l.__name)(()=>new Promise((s,n)=>{tQ.render(e,t,r).then(e=>{s(e),a(e)},e=>{l.log.error("Error parsing",e),rr.parseError?.(e),n(e),i(e)})}),"performCall");t5.push(s),t7().catch(i)}),"render"),rt=(0,l.__name)(()=>Object.keys(l.detectors).map(e=>({id:e})),"getRegisteredDiagramsMetadata"),rr={startOnLoad:!0,mermaidAPI:tQ,parse:t9,render:re,init:t2,run:tK,registerExternalDiagrams:t6,registerLayoutLoaders:r.registerLayoutLoaders,initialize:t1,parseError:void 0,contentLoaded:t3,setParseErrorHandler:t8,detectType:l.detectType,registerIconPacks:a.registerIconPacks,getRegisteredDiagramsMetadata:rt};e.s(["default",()=>rr],76913)},39484,e=>{e.v(t=>Promise.all(["static/chunks/3b4a44a97ae5c5a5.js"].map(t=>e.l(t))).then(()=>t(16400)))},11617,e=>{e.v(t=>Promise.all(["static/chunks/c82582d0321137be.js","static/chunks/8f73b9225a3607c8.js","static/chunks/fa48276a081f6431.js"].map(t=>e.l(t))).then(()=>t(44362)))},83180,e=>{e.v(t=>Promise.all(["static/chunks/9afe911db0af1fde.js","static/chunks/d8ffa2aaa3ad71ab.js"].map(t=>e.l(t))).then(()=>t(47513)))},75759,e=>{e.v(t=>Promise.all(["static/chunks/7488f7937d3eca0d.js","static/chunks/058f4d82972566dd.js"].map(t=>e.l(t))).then(()=>t(69652)))},69644,e=>{e.v(t=>Promise.all(["static/chunks/b61e13569c7c57c2.js"].map(t=>e.l(t))).then(()=>t(74158)))},3251,e=>{e.v(t=>Promise.all(["static/chunks/8cc231777dba8f0c.js","static/chunks/d65c31bd2169b850.js","static/chunks/8abf7ee5f61a38db.js"].map(t=>e.l(t))).then(()=>t(88446)))},17543,e=>{e.v(t=>Promise.all(["static/chunks/575d4c5bd285c272.js","static/chunks/cbe1c61da332c59d.js"].map(t=>e.l(t))).then(()=>t(55135)))},35750,e=>{e.v(t=>Promise.all(["static/chunks/6f57ab8468fb90b4.js","static/chunks/d65c31bd2169b850.js","static/chunks/8cc231777dba8f0c.js"].map(t=>e.l(t))).then(()=>t(79921)))},93160,e=>{e.v(t=>Promise.all(["static/chunks/fc65eadc21f8f7e6.js","static/chunks/d65c31bd2169b850.js","static/chunks/8cc231777dba8f0c.js"].map(t=>e.l(t))).then(()=>t(65698)))},46740,e=>{e.v(t=>Promise.all(["static/chunks/572d5ee0800be99b.js"].map(t=>e.l(t))).then(()=>t(39079)))},32040,e=>{e.v(t=>Promise.all(["static/chunks/755a92a2e9e0ecad.js","static/chunks/b4d6564694eedcc3.js"].map(t=>e.l(t))).then(()=>t(90018)))},52914,e=>{e.v(t=>Promise.all(["static/chunks/fb139be7c8946b97.js"].map(t=>e.l(t))).then(()=>t(5632)))},9186,e=>{e.v(t=>Promise.all(["static/chunks/2c3174f29c8c0df2.js","static/chunks/b5e7733987fa2cea.js"].map(t=>e.l(t))).then(()=>t(51807)))},99318,e=>{e.v(t=>Promise.all(["static/chunks/0988d83380f0617b.js","static/chunks/f0d0b7f73ca691a0.js"].map(t=>e.l(t))).then(()=>t(53190)))},67956,e=>{e.v(t=>Promise.all(["static/chunks/1748d695fdb7a9c7.js","static/chunks/f0d0b7f73ca691a0.js"].map(t=>e.l(t))).then(()=>t(92277)))},2175,e=>{e.v(t=>Promise.all(["static/chunks/fa48276a081f6431.js","static/chunks/8f73b9225a3607c8.js","static/chunks/aa7e6bf7c200b33e.js"].map(t=>e.l(t))).then(()=>t(95314)))},82162,e=>{e.v(t=>Promise.all(["static/chunks/39f05d33417974bd.js"].map(t=>e.l(t))).then(()=>t(47043)))},67090,e=>{e.v(t=>Promise.all(["static/chunks/e77d452712dc8c62.js"].map(t=>e.l(t))).then(()=>t(71072)))},27228,e=>{e.v(t=>Promise.all(["static/chunks/36b387e584060f92.js"].map(t=>e.l(t))).then(()=>t(1491)))},49733,e=>{e.v(t=>Promise.all(["static/chunks/16e207c8f5c1e3ed.js","static/chunks/e460a52e82fa39d8.js"].map(t=>e.l(t))).then(()=>t(93440)))},37098,e=>{e.v(t=>Promise.all(["static/chunks/1cd71ec871602583.js"].map(t=>e.l(t))).then(()=>t(11739)))},19354,e=>{e.v(t=>Promise.all(["static/chunks/96dc8b1a42f7c67c.js"].map(t=>e.l(t))).then(()=>t(69342)))},11546,e=>{e.v(t=>Promise.all(["static/chunks/6bbe7dade06575cf.js","static/chunks/d65c31bd2169b850.js","static/chunks/8cc231777dba8f0c.js"].map(t=>e.l(t))).then(()=>t(35236)))},91196,e=>{e.v(t=>Promise.all(["static/chunks/600d4eac3669c7fa.js","static/chunks/d65c31bd2169b850.js","static/chunks/8cc231777dba8f0c.js"].map(t=>e.l(t))).then(()=>t(12032)))},80550,e=>{e.v(t=>Promise.all(["static/chunks/b3036d4cf855da2b.js","static/chunks/90c4c1b8b4c96139.js","static/chunks/5f6b608f88a63e60.js"].map(t=>e.l(t))).then(()=>t(27291)))},37099,e=>{e.v(t=>Promise.all(["static/chunks/818dbe5b8e66eb2b.js","static/chunks/8cc231777dba8f0c.js","static/chunks/d4cc4e7065eeede2.js","static/chunks/e460a52e82fa39d8.js","static/chunks/d65c31bd2169b850.js"].map(t=>e.l(t))).then(()=>t(47461)))},97241,e=>{e.v(t=>Promise.all(["static/chunks/8cc231777dba8f0c.js","static/chunks/d65c31bd2169b850.js","static/chunks/6cac86cb56c29941.js"].map(t=>e.l(t))).then(()=>t(79531)))}]);